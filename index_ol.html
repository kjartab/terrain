	<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="../../assets/ico/favicon.png">

    <title>Terrain</title>

    <!-- Bootstrap core CSS -->
    <link href="scripts/lib/leaflet/dist/leaflet.css" rel="stylesheet">
    <link href="scripts/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/terrain.css" rel="stylesheet">
	<link href="scripts/lib/leaflet-draw/dist/leaflet.draw.css" rel="stylesheet" />
	<link href="scripts/lib/ol3/v3.3.0/css/ol.css" rel="stylesheet" />
	
</head>
  
<body>
  
    <script src="scripts/lib/jquery/dist/jquery.min.js"></script>
    <script src="scripts/lib/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="scripts/lib/leaflet/dist/leaflet.js"></script>
	<script src="scripts/lib/leaflet-draw/dist/leaflet.draw.js"></script>
    <script src="scripts/dist/cloudy.js"></script>
    <script src="scripts/lib/ol3/v3.3.0/build/ol.js"></script>
    <script src="scripts/lib/ol3/v3.3.0/resources/example-behaviour.js"></script>
    
    <div class="navbar navbar-default navbar-fixed-top" id="navbar">
		<div class="container">
			<div class="navbar-header">
			<a class="navbar-brand" href="#">Terrain</a>
			</div>
		</div>
    </div>
	
<div class="wrapper">
	<div class="col-lg-12" id="innhald">
		<div id="map"></div>
	</div>
	
</div>
   
	<script>
		
	$(window).resize(function () {
		var h = $(window).height(), offsetTop = 40;
		$('#map').css('height', h-offsetTop);
		$('body').css('height', h);
	}).resize();
    
        

    var projection = new ol.proj.Projection({
      code: 'EPSG:25833',
      // The extent is used to determine zoom level 0. Recommended values for a
      // projection's validity extent can be found at http://epsg.io/.
      extent: [-150000, 5027916,4640000, 9051551],
      units: 'm'
    });
    ol.proj.addProjection(projection);
    
    
    var map = new ol.Map({
    
        layers: [new ol.layer.Tile({
            source: new ol.source.TileWMS(/** @type {olx.source.TileWMSOptions} */ ({
              url:  "https://www.webatlas.no/wms-std-demo/",    
              params: {'LAYERS': 'Kart', 'TILED': true},
              extent: [-150000, 5027916,4640000, 9051551],
              serverType: 'geoserver'
            }))
          })
        ],
        controls: ol.control.defaults({
        attributionOptions: /** @type {olx.control.AttributionOptions} */ ({
            collapsible: false
        })
        }),
        
        renderer: exampleNS.getRendererFromQueryString(),
        target: 'map',
        view: new ol.View({
            projection: 'EPSG:25833',
            center: [0, 0],
            zoom: 2
        })
    });
    
	var geojson;
    $.getJSON('/datapi/rasters/rastergrid', function (data) {
        for (i=0; i<data.length; i++) {
            geojson.addData(JSON.parse(data[i][0]), {onEachFeature: onEachFeature, style : style});
        }
    });
			
			
	</script>

</body>
</html>
