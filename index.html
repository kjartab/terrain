	<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="../../assets/ico/favicon.png">

    <title>Terrain</title>

    <!-- Bootstrap core CSS -->
    <link href="scripts/lib/leaflet/dist/leaflet.css" rel="stylesheet">
    <link href="scripts/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/terrain.css" rel="stylesheet">
	<link href="scripts/lib/leaflet-draw/dist/leaflet.draw.css" rel="stylesheet" />
	
	
</head>
  
<body>
  
    <script src="scripts/lib/jquery/dist/jquery.min.js"></script>
    <script src="scripts/lib/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="scripts/lib/leaflet/dist/leaflet.js"></script>
	<script src="scripts/lib/leaflet-draw/dist/leaflet.draw.js"></script>
    <script src="scripts/dist/cloudy.js"></script>
  
    <div class="navbar navbar-default navbar-fixed-top" id="navbar">
		<div class="container">
			<div class="navbar-header">
			<a class="navbar-brand" href="#">Terrain</a>
			</div>
		</div>
    </div>
	
<div class="wrapper">
	<div class="col-lg-12" id="innhald">
		<div id="map"></div>
	</div>
	
</div>
   
	<script>
		
	$(window).resize(function () {
		var h = $(window).height(), offsetTop = 40;
		$('#map').css('height', h-offsetTop);
		$('body').css('height', h);
	}).resize();
	
	cloudy = new Cloud('map', 'visualize.html');

	function getCloud() {
		return cloudy;
	}
	
			function style(feature) {
			switch(feature.geometry.type) {
				case 'Polygon':
					return {	
						fillColor: "#2233dd",
						weight: 1,
						opacity: 1,
						color: "#2233dd",
						fillOpacity: 0.3
					};
				break;
				
				case 'Point':
					return {
						fillColor: "#2233dd",
						weight: 1,
						opacity: 0.8,
						color: "#2233dd",
						fillOpacity: 0.9
					};
				break;
			}
		}
		
		function onEachFeature(feature, layer) {
            
		}

	
		$.getJSON('/datapi/rasters/rastergrid', function (data) {
			
			console.log(data);
			for (i=0; i<data.length; i++) {					
				geojson.addData(JSON.parse(data[i][0]), {onEachFeature: onEachFeature, style : style});
			}
		});
			

			
	</script>

</body>
</html>
